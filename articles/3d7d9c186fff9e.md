---
title: "[PowerShell]System.Booleanã®ãƒ‡ãƒ¼ã‚¿å‹ã‚’å¤‰æ›ã™ã‚‹å ´åˆã®æ³¨æ„äº‹é …ã¾ã¨ã‚"
emoji: "ğŸš©"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["powershell"]
published: false
---
## æ¦‚è¦

PowerShellã§ãƒ‡ãƒ¼ã‚¿å‹ã®å¤‰æ›ï¼ˆä»¥é™ã€ã‚­ãƒ£ã‚¹ãƒˆï¼‰ã‚’è¡Œã†éš›ã¯ `å¤‰æ›ã—ãŸã„ãƒ‡ãƒ¼ã‚¿å‹` + `å¤‰æ›å¯¾è±¡ã®å€¤ï¼ˆã‚‚ã—ãã¯å¯¾è±¡å¤‰æ•°åï¼‰` ã¨å®šç¾©ã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚

çœŸå½ã§ã‚ã‚‹`bool`ï¼ˆ`Boolean`ï¼‰ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹éš›ã‚‚åŒã˜æ‰‹æ³•ã§å¯¾å¿œå¯èƒ½ãªã®ã§ã™ãŒã€
PowerShellã§ã¯ãƒ«ãƒ¼ãƒ«ãŒè¤‡é›‘ãªãŸã‚ã€å®Ÿä¾‹ã‚’ç”¨ã„ã¦æ³¨æ„äº‹é …ã‚’å…±æœ‰ã—ã¾ã™ã€‚

## PowerShellã«ãŠã‘ã‚‹ã‚­ãƒ£ã‚¹ãƒˆã®èª¬æ˜

æœ€åˆã« `bool`ï¼ˆ`Boolean`ï¼‰ã®ã‚­ãƒ£ã‚¹ãƒˆã‹ã‚‰èª¬æ˜ã™ã‚‹ã¨ã‚ã‹ã‚Šé›£ã„ã¨æ€ã†ã®ã§ã€
ã¾ãšã¯ã€ã‚ã‹ã‚Šã‚„ã™ã„æ–‡å­—åˆ—å‹ã‹ã‚‰æ•°å€¤å‹ã¸ã®ã‚­ãƒ£ã‚¹ãƒˆã‚’é¡Œæã«èª¬æ˜ã—ã¾ã™ã€‚

ä¸‹è¨˜ã¯æ–‡å­—åˆ—å‹ã‹ã‚‰æ•°å€¤ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹éš›ã®ã‚³ãƒ¼ãƒ‰ã€‚

```:powershell:ä¾‹ï¼‰æ–‡å­—åˆ—ã‹ã‚‰æ•°å€¤ã«å¤‰æ›ã™ã‚‹å ´åˆ
$a = "10"                   # æ–‡å­—åˆ—å‹ã§å®£è¨€
$num_a = [int]$a            # æ•°å€¤å‹ã«å¤‰æ›ï¼ˆã‚­ãƒ£ã‚¹ãƒˆï¼‰
$num_a.GetType().FullName   # ãƒ‡ãƒ¼ã‚¿å‹ã‚’ç¢ºèª
# çµæœã€ŒSystem.Int32ã€ã¨ãªã‚Šæ•°å€¤å‹ã«å¤‰æ›ã§ããŸï¼
```

### ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹

ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã®å ´åˆã€`$a` ã¨ `$b` ãã‚Œãã‚ŒãŒæ–‡å­—åˆ—å‹ã¨ãªã£ã¦ã„ã‚‹ãŸã‚ã€ãã®ã¾ã¾æ•°å€¤è¨ˆç®—ã§ãã¾ã›ã‚“ã€‚

```powershell:âŒ æ–‡å­—åˆ—åŒå£«ã ã¨æ•°å€¤è¨ˆç®—ä¸å¯
# "10" ã¨ã„ã†æ–‡å­—ã¨ "20" ã¨ã„ã†æ–‡å­—ã€‚
[System.String]$a = "10"
[System.String]$b = "20"

# æ•°å€¤ã‚’åŠ ç®—ï¼ˆæœŸå¾…ã™ã‚‹å‹•ä½œã«ãªã‚‰ãªã„ï¼‰
$total = $a + $b
#	-> æ•°å€¤åŠ ç®—ã—ãŸã„ãŒæ–‡å­—åˆ—å‹ã®ãŸã‚ã€æ–‡å­—åˆ—çµåˆ

# 
$total.GetType().FullName


# åŒæ–¹ãŒæ–‡å­—åˆ—å‹ã®ãŸã‚ã€åŠ ç®—ã™ã‚‹ã¨æ–‡å­—çµåˆã•ã‚Œã‚‹ã®ã§ã€çµæœã¯ "1020" ã«ãªã£ã¦ã—ã¾ã†ã€‚
Write-Host ($a + $b)
# å‡ºåŠ›çµæœ: 1020
```

ä¸‹è¨˜ã®ã‚ˆã†ã«æ–‡å­—åˆ—å‹ã®å¤‰æ•°ã‚’æ•°å€¤å‹ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹ã“ã¨ã§æ•°å€¤è¨ˆç®—ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ï¼

```powershell:âœ… æ•°å€¤ã«ã‚­ãƒ£ã‚¹ãƒˆå¾Œã¯æ•°å€¤è¨ˆç®—å¯èƒ½
# "10" ã¨ã„ã†æ–‡å­—ã¨ "20" ã¨ã„ã†æ–‡å­—ã€‚
[System.String]$a = "10"
[System.String]$b = "20"

# âœ” æ•°å€¤å‹ã«ã‚­ãƒ£ã‚¹ãƒˆ
$num_a = [System.Int32]$a
$num_b = [System.Int32]$b

# åŒæ–¹ãŒæ–‡å­—åˆ—å‹ã®ãŸã‚ã€åŠ ç®—ã™ã‚‹ã¨æ–‡å­—çµåˆã•ã‚Œã‚‹ã®ã§ã€çµæœã¯ "1020" ã«ãªã£ã¦ã—ã¾ã†ã€‚
Write-Host ($a + $b)
# å‡ºåŠ›çµæœ: 1020
```

ã“ã‚Œã§PowerShellã«ãŠã‘ã‚‹ã‚­ãƒ£ã‚¹ãƒˆã®æ¦‚è¦ã¯ãŠã•ãˆã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚
ã¤ãã¯æœ¬è¨˜äº‹ã®ãƒ†ãƒ¼ãƒã§ã‚ã‚‹`bool`ï¼ˆ`Boolean`ï¼‰ã®ãƒ«ãƒ¼ãƒ«ã‚’æ˜è¨˜ã—ã¾ã™ã€‚

## PowerShellã«ãŠã‘ã‚‹boolã®ãƒ«ãƒ¼ãƒ«

åŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ«ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã€‚

- boolã‚­ãƒ£ã‚¹ãƒˆæ™‚ã« `$false` ã¨ã—ã¦åˆ¤å®šã•ã‚Œã‚‹ã‚‚ã®
    - æ•°å€¤ã® `0`
    - `$null`
    - ç©ºæ–‡å­—åˆ— (`""` ã¾ãŸã¯ `''`)
    - ç©ºã®é…åˆ— (`@()`)

- boolã‚­ãƒ£ã‚¹ãƒˆæ™‚ã« `$true` ã¨ã—ã¦åˆ¤å®šã•ã‚Œã‚‹ã‚‚ã®
    - `0` ä»¥å¤–ã®æ•°å€¤ (ãƒã‚¤ãƒŠã‚¹å€¤ã‚‚å«ã‚€)
    - ç©ºã§ã¯ãªã„æ–‡å­—åˆ— ( `"false"` ã¨ã„ã†æ–‡å­—åˆ—ã‚‚ `$true` ã«)
    - è¦ç´ ãŒ1ã¤ä»¥ä¸Šã‚ã‚‹é…åˆ—
        - `[bool]@("false")`    -> çµæœï¼š`True`
        - `[bool]@("0")`        -> çµæœï¼š`False` â€» `@(0)`ã®å ´åˆã¯ã€`0`ã¨åŒç¾©ã¨ãªã‚‹ã€‚
        - `[bool]@("0,0")`      -> çµæœï¼š`True`

### PowerShellã®çœŸå½ï¼ˆSystem.Booleanï¼‰ã®ã‚­ãƒ£ã‚¹ãƒˆ

ã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ã€ã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã‚„ã™ã„
è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å€¤ã‚’ãã®ã¾ã¾ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ä½¿ç”¨ã§ãã‚‹


å¯èª­æ€§ãŒæ‚ªã„
ãƒ«ãƒ¼ãƒ«ãŒè¤‡æ•°ã‚ã‚Šã€ã‚³ãƒ¼ãƒ‰ãŒçµ±ä¸€ã—ã«ãã„
ä¸å…·åˆï¼ˆãƒã‚°ï¼‰ã®æ¸©åºŠã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„

### ã‚­ãƒ£ã‚¹ãƒˆãƒ«ãƒ¼ãƒ«åŸºæœ¬


## 

```powershell
$false -eq ''
> çµæœï¼šTrue
>       ã€Œ''ã€ã¯$falseã©åŒç¾©ã€‚
if ("") { $true } else { $false }
> çµæœï¼šFalse
>       ã€Œ""ã€ã¯$falseã©åŒç¾©ã€‚
if ($null) { $true } else { $false }
> çµæœï¼šFalse
>       ã€Œ$nullã€ã¯$falseã©åŒç¾©ã€‚
if ([int]0) { $true } else { $false }
> çµæœï¼šFalse
>       ã€Œ[int]0ã€ã¯$falseã©åŒç¾©ã€‚
if ([double]0.0) { $true } else { $false }
> çµæœï¼šFalse
>       ã€Œ[double]0.0ã€ã¯$falseã©åŒç¾©ã€‚
```

powershell system.string -> system.boolean ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹éš›ã®æ³¨æ„
ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹æ–‡å­—åˆ—ã¯ä¸‹è¨˜ã®ã„ãšã‚Œã‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
- $Trueï¼ˆè‡ªå‹•å¤‰æ•°ï¼‰
	System.Boolean $Trueã«ãªã‚‹
- $Falseï¼ˆè‡ªå‹•å¤‰æ•°ï¼‰
	System.Boolean $Falseã«ãªã‚‹
- 0ä»¥å¤–ï¼ˆ1ãªã©ï¼‰ï¼ˆæ•°å€¤ï¼‰
	System.Boolean $Trueã«ãªã‚‹
- 0ï¼ˆæ•°å€¤ï¼‰
	System.Boolean $Falseã«ãªã‚‹

```
PS XXXX> [System.Boolean]"0"
True									# â†’ Ã—ï¼šæ–‡å­—åˆ—ã ã¨å¤‰æ›ã§ããªã„
PS XXXX>
PS XXXX> [System.Boolean]'0'
True									# â†’ Ã—ï¼šæ–‡å­—åˆ—ã ã¨å¤‰æ›ã§ããªã„
PS XXXX>
PS XXXX> [System.Boolean]0  
False									# â†’ â—‹ï¼šæ•°å€¤ã ã¨æ­£å¸¸ã«å¤‰æ›å¯èƒ½
PS XXXX>
PS XXXX> [System.Boolean]1
True									# â†’ â—‹ï¼šæ•°å€¤ã ã¨æ­£å¸¸ã«å¤‰æ›å¯èƒ½
PS XXXX>
PS XXXX> [System.Boolean]"$False"
True									# â†’ Ã—ï¼šæ–‡å­—åˆ—ã ã¨å¤‰æ›ã§ããªã„
PS XXXX>
PS XXXX> [System.Boolean]'$False'
True									# â†’ Ã—ï¼šæ–‡å­—åˆ—ã ã¨å¤‰æ›ã§ããªã„
PS XXXX>
PS XXXX> [System.Boolean]$False  
False									# â†’ â—‹ï¼šè‡ªå‹•å¤‰æ•°ã ã¨æ­£å¸¸ã«å¤‰æ›å¯èƒ½
PS XXXX>
[System.Boolean]$True 
True									# â†’ â—‹ï¼šè‡ªå‹•å¤‰æ•°ã ã¨æ­£å¸¸ã«å¤‰æ›å¯èƒ½
PS XXXX>
```


```
# ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ãƒã‚§ãƒƒã‚¯çŠ¶æ…‹ã‚’æ–‡å­—åˆ—ã®å¤‰æ•°ã«ä»£å…¥
PS XXXX> [System.String]$str_accept = $checkbox_selected_accept.Checked		# $str_accept: False

# Booleanã«ã‚­ãƒ£ã‚¹ãƒˆã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ•°ã«å…¥ã‚Œã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼
PS XXXX> [System.Boolean]$bool_accept = $str_accept

MetadataError: Cannot convert value "System.String" to type "System.Boolean". Boolean parameters accept only Boolean values and numbers, such 
as $True, $False, 1 or 0.
PS XXXX>

# å¤‰æ•°ã‚’ä½¿ã‚ãšã€ãã®ã¾ã¾ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹ã¨Trueã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†
#	ãŠãã‚‰ãæ•°å€¤ã®0ä»¥å¤–ã ã¨Trueã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†ä»•æ§˜ã ã¨æ€ã‚ã‚Œã‚‹ã€‚
PS XXXX> [System.Boolean]$str_accept										# System.Booleanã®Trueã«èª¤å¤‰æ›
True
PS XXXX>
```

## ã¾ã¨ã‚

## å‚è€ƒæƒ…å ±

https://learn.microsoft.com/ja-jp/powershell/module/microsoft.powershell.core/about/about_booleans

## é–¢é€£è¨˜äº‹

https://haretokidoki-blog.com/pasocon_powershell-startup/
https://zenn.dev/haretokidoki/articles/7e6924ff0cc960
https://zenn.dev/haretokidoki/articles/fb6830f9155de5
